@using Microsoft.FluentUI.AspNetCore.Components.Icons.Regular
<div class="navmenu">
    <input class="navmenu-icon"
           id="navmenu-toggle"
           title="Menu expand/collapse toggle"
           type="checkbox" />
    <label class="navmenu-icon"
           for="navmenu-toggle">
        <FluentIcon Color="Color.Fill"
                    Value="@(new Size20.Navigation())" />
    </label>
    <nav aria-labelledby="main-menu"
         class="sitenav">
        <FluentNavMenu @bind-Expanded="expanded"
                       Collapsible="true"
                       CustomToggle="true"
                       Id="main-menu"
                       Title="Navigation menu"
                       Width="250">
            <FluentNavLink Href="/"
                           Icon="@(new Size20.Home())"
                           IconColor="Color.Accent"
                           Match="NavLinkMatch.All">
                Главная
            </FluentNavLink>

            <FluentNavLink Href="counter"
                           Icon="@(new Size20.NumberSymbolSquare())"
                           IconColor="Color.Accent">
                Прилавок
            </FluentNavLink>

            <FluentNavLink Href="weather"
                           Icon="@(new Size20.WeatherPartlyCloudyDay())"
                           IconColor="Color.Accent">
                Погода
            </FluentNavLink>

            <FluentNavLink Href="auth"
                           Icon="@(new Size20.LockClosed())"
                           Match="NavLinkMatch.Prefix">
                Требуется авторизация
            </FluentNavLink>
            <FluentNavLink Href="settings"
                           Icon="@(new Size20.Settings())">
                Настройки
            </FluentNavLink>

            <AuthorizeView>
                <Authorized>
                    <FluentNavGroup Title="Операции"
                                    Icon="@(new Size20.Money())">
                        <FluentNavLink Href="operations"
                                       Icon="@(new Size20.List())"
                                       Match="NavLinkMatch.Prefix">
                            Список
                        </FluentNavLink>
                        @*<FluentNavLink Href="statistics"
                                       IconName="PieChart"
                                       Match="NavLinkMatch.Prefix">
                            Статистика
                        </FluentNavLink>*@
                        <FluentNavLink Href="fast-operations"
                                       Icon="@(new Size20.Flash())"
                                       Match="NavLinkMatch.Prefix">
                            Быстрые
                        </FluentNavLink>
                        <FluentNavLink Href="regular-operations"
                                       Icon="@(new Size20.ArrowRepeatAll())"
                                       Match="NavLinkMatch.Prefix">
                            Регулярные
                        </FluentNavLink>
                    </FluentNavGroup>

                    <FluentNavLink Href="Account/Manage"
                                   Icon="@(new Size24.Person())"
                                   Match="NavLinkMatch.Prefix">
                        @context.User.Identity?.Name
                    </FluentNavLink>

                    @*<FluentNavLink  Href="@(NavigationManager.GetUriWithReturnUrl("Account/Logout", _currentUrl))"
                                 IconName="Logout"
                                 Match="NavLinkMatch.Prefix">
                            Выйти
                        </FluentNavLink >*@
                </Authorized>
                <NotAuthorized>
                    <FluentNavLink Href="Account/Register"
                                   Icon="@(new Size24.Person())"
                                   Match="NavLinkMatch.Prefix">
                        Регистрация
                    </FluentNavLink>
                    <FluentNavLink Href="Account/Login"
                                   Icon="@(new Size24.Password())"
                                   Match="NavLinkMatch.Prefix">
                        Вход
                    </FluentNavLink>
                </NotAuthorized>
            </AuthorizeView>
        </FluentNavMenu>
    </nav>
</div>

@code {
    private bool expanded = true;
}
